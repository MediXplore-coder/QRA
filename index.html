<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>Quiz: Atemwegssicherung</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
body {
  font-family: Arial, sans-serif;
  background-color: #e0f7fa;
  margin: 0;
  padding: 20px;
  display: flex;
  justify-content: center;
  align-items: start;
  min-height: 100vh;
}

.container {
  width: 95%;
  background-color: #ffffff;
  border-radius: 10px;
  padding: 20px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.2);
  display: flex;
  flex-direction: column;
  min-height: 90vh;
  height: auto;          
}

    h2 {
      color: #004d40;
      text-align: center;
      margin-bottom: 20px;
    }
    .frage {
      flex: 1;
      font-size: 20px;
      margin-bottom: 20px;
    }
    .antworten {
      flex: 2;
      display: flex;
      flex-direction: column;
    }
    .antworten button {
      margin: 8px 0;
      padding: 14px;
      font-size: 18px;
      font-weight: bold;
      color: #000;
      background-color: #4dd0e1;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      transition: background-color 0.3s;
    }
    .antworten button:hover {
      background-color: #00bcd4;
    }
    .antworten button.correct {
      background-color: #66bb6a;
    }
    .antworten button.wrong {
      background-color: #ef5350;
    }
    .navigation {
      display: none;
      margin-top: 20px;
      justify-content: center;
      gap: 20px; /* Abstand zwischen den Buttons */
    }
    .navigation button {
      padding: 12px 24px;
      font-size: 16px;
      font-weight: bold;
      color: #fff;
      background-color: #004d40;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }
    .navigation button:hover {
      background-color: #00332b;
    }
    .ergebnis {
  display: none;
  text-align: left;
  font-size: 18px;
  color: #004d40;
  margin-top: 20px;
  overflow-wrap: break-word;
  max-width: 100%;
}
.ergebnis ul {
  padding-left: 20px;
}
.ergebnis li {
  margin-bottom: 10px;
}
    .level-auswahl {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin-top: 10px; /* Nach oben verschieben */
    }
    .level-auswahl button {
      margin: 10px;
      padding: 12px 24px;
      font-size: 18px;
      font-weight: bold;
      color: #fff;
      background-color: #00796b;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }
    .level-auswahl button:hover {
      background-color: #004d40;
    }
  </style>
</head>
<body>
  <div class="container">
    <h2>Quiz: Atemwegssicherung</h2>
    <div class="level-auswahl" id="level-auswahl">
      <button onclick="startQuiz('leicht')">Leicht</button>
      <button onclick="startQuiz('mittel')">Mittel</button>
      <button onclick="startQuiz('schwer')">Schwer</button>
    </div>
    <div class="frage" id="frage" style="display: none;"></div>
    <div class="antworten" id="antworten" style="display: none;"></div>
    <div class="ergebnis" id="ergebnis"></div>
    <div class="navigation" id="navigation">
      <button onclick="restart()">Wiederholen</button>
      <button onclick="Levels()">Levels</button>
    </div>
  </div>
  <script>
    let wrongAnswers = [];

    const allQuestions = [
  { question: "Was versteht man unter 'Atemwegsicherung'?", answers: ["Vermeidung von Fieber", "Freihalten der Atemwege und ggf. Beatmung", "Hilfe bei Übelkeit", "Anlegen von Verbänden"], correct: 1, level: "leicht" },
  { question: "Welche Lagerung dient der Atemwegssicherung bei bewusstlosen Patienten?", answers: ["Bauchlage", "Seitenlage", "Knie-Ellenbogen-Lage", "Schocklage"], correct: 1, level: "leicht" },
  { question: "Was ist eine einfache Möglichkeit zur Atemwegssicherung?", answers: ["Intubation", "Nasensonde", "Handgriff nach Esmarch", "Zugang legen"], correct: 2, level: "leicht" },
  { question: "Was ist das Ziel der Atemwegssicherung?", answers: ["Blutdruck senken", "Herzrhythmus stabilisieren", "Gasaustausch sichern und Aspiration verhindern", "Körpertemperatur regulieren"], correct: 2, level: "leicht" },
  { question: "Wozu dient die Guedel-Tubus?", answers: ["Blutdruckmessung", "Fixierung", "Verhinderung des Zungenrückfalls", "Zugangssicherung"], correct: 2, level: "leicht" },
  { question: "Was ist ein Anzeichen für eine gestörte Atemwegspassage?", answers: ["Blasser Hautfarbe", "Klaffende Wunde", "Gurgelgeräusche, Stridor", "Nasenbluten"], correct: 2, level: "leicht" },
  { question: "Wann sollte die Atemwegssicherung erfolgen?", answers: ["Immer nach EKG", "Bei gestörter oder fehlender Spontanatmung", "Erst nach dem Krankenhaus", "Nach dem Zugang"], correct: 1, level: "leicht" },
  { question: "Was ist die Funktion des Esmarch-Handgriffs?", answers: ["Blutdruckmessung", "Venensuche", "Freihalten der Atemwege", "Herzfrequenzkontrolle"], correct: 2, level: "leicht" },
  { question: "Welche Hilfsmittel sind für die Atemwegssicherung geeignet?", answers: ["EKG", "Oropharyngealtubus, Nasopharyngealtubus, Beatmungsbeutel", "Blutdruckmanschette", "Pflaster"], correct: 1, level: "leicht" },
  { question: "Was ist ein Indikator für eine notwendige Atemwegssicherung?", answers: ["RR 130/80", "SpO₂ < 90 %", "Blutzucker 110 mg/dl", "Temperatur 36,8 °C"], correct: 1, level: "leicht" },
  { question: "Wie wird der Guedel-Tubus korrekt eingeführt?", answers: ["Mit Bissschutz", "Mit Spitze nach oben, dann drehen", "Direkt in den Magen", "Nur bei Kindern"], correct: 1, level: "leicht" },
  { question: "Was gehört zur Basisausstattung bei Atemwegssicherung?", answers: ["Stethoskop, Verbandmaterial", "Beatmungsbeutel, Tubus, Absaugung", "Taschenlampe", "Fieberthermometer"], correct: 1, level: "leicht" },
  { question: "Was bedeutet 'Aspiration'?", answers: ["Einatmung von Fremdmaterial", "Kältegefühl", "Blähung", "Herzrasen"], correct: 0, level: "leicht" },
  { question: "Was ist eine häufige Ursache für verlegte Atemwege bei Bewusstlosigkeit?", answers: ["Blähung", "Zungenrückfall", "Hypertonie", "Atemnot"], correct: 1, level: "leicht" },
  { question: "Was sollte man bei Absaugen beachten?", answers: ["Mit hoher Sogkraft ständig absaugen", "Steriles Arbeiten, nicht zu lange absaugen", "Nur bei vollem Magen", "Immer nur durch die Nase"], correct: 1, level: "leicht" },
  { question: "Was gehört NICHT zur Atemwegssicherung?", answers: ["Absaugen", "Lagerung", "Beatmung", "Blutentnahme"], correct: 3, level: "leicht" },
  { question: "Was ist das Ziel der Beatmung mit einem Ambu-Beutel?", answers: ["Herzfrequenz erhöhen", "Sauerstoffversorgung sichern", "Blutdruck senken", "Fieber senken"], correct: 1, level: "leicht" },
  { question: "Welche Technik wird zur Öffnung der Atemwege genutzt?", answers: ["Esmarch-Handgriff", "Beinlagerung", "Venenzugang", "Elektrokardiografie"], correct: 0, level: "leicht" },
  { question: "Welche Aussage zur Seitenlage ist korrekt?", answers: ["Wird bei jeder Patientin gemacht", "Verhindert Zungenrückfall und Aspiration", "Dient der Reanimation", "Nur bei Kindern sinnvoll"], correct: 1, level: "leicht" },
  { question: "Was ist die Gefahr bei fehlender Atemwegssicherung?", answers: ["Bradykardie", "Aspiration und Hypoxie", "Hypertonie", "Übelkeit"], correct: 1, level: "leicht" },
  { question: "Wie erkennt man einen freien Atemweg?", answers: ["Kein Atemgeräusch", "Hustenreiz", "Normale Atemgeräusche ohne Atemnot", "Pulsverlust"], correct: 2, level: "leicht" },
  { question: "Was ist ein 'Nasopharyngealtubus'?", answers: ["Magenschlauch", "Beatmungsgerät", "Weicher Tubus zur nasalen Atemwegssicherung", "Druckverband"], correct: 2, level: "leicht" },
  { question: "Was wird bei der Atemwegssicherung oft zusätzlich benötigt?", answers: ["Sauerstoff", "Ibuprofen", "EKG", "Gipsverband"], correct: 0, level: "leicht" },
  { question: "Wann ist eine Atemwegssicherung lebensrettend?", answers: ["Bei Hustenreiz", "Bei Fieber", "Bei Atemstillstand oder drohender Obstruktion", "Bei Schmerzen"], correct: 2, level: "leicht" },
  { question: "Welche Körperhaltung kann bei Atemnot entlastend wirken?", answers: ["Rückenlage", "Oberkörper hoch", "Bauchlage", "Flachlagerung"], correct: 1, level: "leicht" },
  { question: "Was sollte man bei der Verwendung eines Beatmungsbeutels beachten?", answers: ["Nur Luft verwenden", "Atemfrequenz 10–12/min, gute Thoraxhebung", "Sehr schnelle Beatmung", "Beutel nie zusammendrücken"], correct: 1, level: "leicht" },
  { question: "Welche Aussage zur Atemwegskontrolle ist korrekt?", answers: ["Immer invasiv", "Ziel ist der freie Gasaustausch", "Nur bei Kindern", "Unnötig bei Bewusstlosigkeit"], correct: 1, level: "leicht" },
  { question: "Wofür steht der Begriff 'BLS' im Zusammenhang mit Atemwegssicherung?", answers: ["Basic Life Support", "Beatmungs-Lager-System", "Bauch-Lungen-Scanner", "Basislager der Sanitäter"], correct: 0, level: "leicht" },
  { question: "Welche Gefahr besteht bei falscher Tubusgröße?", answers: ["Tubus löst sich auf", "Verletzung oder unzureichende Beatmung", "Nur bei Frauen relevant", "Keine"], correct: 1, level: "leicht" },
  { question: "Was ist eine Indikation zur Sauerstoffgabe?", answers: ["SpO₂ unter 94 %", "Guter AZ", "RR über 140 mmHg", "Blutzucker 80 mg/dl"], correct: 0, level: "leicht" },
  { question: "Was ist ein Vorteil der nasalen Atemwegssicherung mit Wendl-Tubus?", answers: ["Kann auch bei bewusstlosen Patienten eingesetzt werden", "Nur für Kinder geeignet", "Führt immer zu Blutungen", "Verhindert Apnoe"], correct: 0, level: "mittel" },
  { question: "Was ist die häufigste Ursache für einen nicht freien Atemweg bei Bewusstlosen?", answers: ["Blutungen", "Zungenrückfall", "Sekret", "Zahnprothese"], correct: 1, level: "mittel" },
];


    let questions = [];
    let used = [];
    let correctCount = 0;
    let askedCount = 0;

    function startQuiz(selectedLevel) {
      questions = allQuestions.filter(q => q.level === selectedLevel);
      document.getElementById('level-auswahl').style.display = 'none';
      document.getElementById('frage').style.display = 'block';
      document.getElementById('antworten').style.display = 'flex';
      showNext();
    }

    function getRandomIndex() {
      if (used.length === questions.length) used = [];
      let idx;
      do {
        idx = Math.floor(Math.random() * questions.length);
      } while (used.includes(idx));
      used.push(idx);
      return idx;
    }

    function showNext() {
      if (askedCount >= questions.length) {
        showResult();
        return;
      }
      askedCount++;
      const idx = getRandomIndex();
      const q = questions[idx];
      document.getElementById('frage').textContent = q.question;
      const container = document.getElementById('antworten');
      container.innerHTML = '';
      q.answers.forEach((ans, i) => {
        const btn = document.createElement('button');
        btn.textContent = ans;
btn.onclick = () => {
  if (i === q.correct) {
    btn.classList.add('correct');
    correctCount++;
  } else {
    btn.classList.add('wrong');
    wrongAnswers.push({
      question: q.question,
      selected: q.answers[i],
      correct: q.answers[q.correct]
    });

    setTimeout(() => {
      Array.from(container.children)[q.correct].classList.add('correct');
    }, 100);
  }
  setTimeout(showNext, 1000);
};
        container.appendChild(btn);
      });
    }

function showResult() {
  document.getElementById('frage').style.display = 'none';
  document.getElementById('antworten').style.display = 'none';
  const percent = Math.round((correctCount / askedCount) * 100);
  const ergebnisDiv = document.getElementById('ergebnis');

  let resultText = `Du hast ${correctCount} von ${askedCount} richtig (${percent}%)`;

  if (wrongAnswers.length > 0) {
    resultText += "<br><br><strong>Falsch beantwortete Fragen:</strong><ul>";
    wrongAnswers.forEach(item => {
      resultText += `<li><strong>Frage:</strong> ${item.question}<br>
                     <strong>Deine Antwort:</strong> ${item.selected}<br>
                     <strong>Richtige Antwort:</strong> ${item.correct}</li><br>`;
    });
    resultText += "</ul>";
  }

  ergebnisDiv.innerHTML = resultText;
  ergebnisDiv.style.display = 'block';
  document.getElementById('navigation').style.display = 'flex';
}

    function restart() {
      used = [];
      correctCount = 0;
      askedCount = 0;
      wrongAnswers = [];
      document.getElementById('ergebnis').style.display = 'none';
      document.getElementById('navigation').style.display = 'none';
      startQuiz(questions[0].level); // Restart with the same level
    }

    function Levels() {
      used = [];
      correctCount = 0;
      askedCount = 0;
      wrongAnswers = [];
      document.getElementById('frage').style.display = 'none';
      document.getElementById('antworten').style.display = 'none';
      document.getElementById('ergebnis').style.display = 'none';
      document.getElementById('navigation').style.display = 'none';
      document.getElementById('level-auswahl').style.display = 'flex';
    }
  </script>
</body>
</html>
